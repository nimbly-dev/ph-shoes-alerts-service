server:
  port: 8084
  servlet:
    context-path: /api/v1

spring:
  application:
    name: alerts-web

cors:
  allowed-origins:
    - "https://ph-shoes-frontend.onrender.com"
    - "https://www.phshoesproject.com"
    - "https://phshoesproject.com"
  allowed-methods: ["GET","POST","PUT","DELETE","OPTIONS"]
  allowed-headers: ["*"]
  exposed-headers: []
  allow-credentials: true
  max-age: 3600

jwt:
  issuer: ph-shoes
  secret: ${JWT_SECRET:change-me-for-dev}
  access-ttl-seconds: ${JWT_ACCESS_TTL_SECONDS:1800}

logging:
  level:
    root: INFO

phshoes:
  status:
    enabled: true
    path: /system/status
    service-id: alerts-web
    display-name: Alerts
    environment: ${SERVICE_ENVIRONMENT:prod}
    version: ${APP_VERSION:${PROJECT_VERSION:0.0.1-SNAPSHOT}}
    openapi:
      enabled: true
      group-name: service-status
      paths-to-match:
        - /system/status
      remove-security: true

security:
  email:
    hmac-pepper-b64: ${HMAC_PEPPER_B64:?Missing HMAC_PEPPER_B64}
    aes-key-b64: ${AES_KEY_B64:?Missing AES_KEY_B64}
    legacy-peppers-b64: ${HMAC_LEGACY_PEPPERS_B64:}

schema:
  migrations:
    enabled: true
    bootstrapIfMissing: true
    initial: 0.0.0
    serviceName: alerts_service
